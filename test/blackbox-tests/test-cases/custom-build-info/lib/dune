(library
 (name lib1)
 (modules lib1)
 (libraries dune-build-info)
 (custom_build_info
  (max_size 85)
  (action (run ocaml %{dep:gen_version.ml}))))

(library
 (name lib2)
 (modules lib2)
 (libraries dune-build-info)
 (custom_build_info
  (max_size 66)
  (action (echo "Custom info from lib2"))))

(executable
 (name foo)
 (modules foo)
 (public_name foo)
 (promote (until-clean))
 (libraries lib1 lib2))
